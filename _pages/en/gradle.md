---
layout: page
title: Gradle
permalink: /gradle-en
lang: en # fi or en
ref: gradle # same as the markdown filename
---
[Gradle](https://en.wikipedia.org/wiki/Gradle) is a [build automation tool](https://en.wikipedia.org/wiki/Build_automation) designed to automate project management tasks such as compiling and testing software.
Gradle is primarily used for Java project development. However, there are also unofficial [Python plugins](https://github.com/PrzemyslawSwiderski/python-gradle-plugin) that enable its use for Python project development. You may use these plugins in your coursework, but their functionality has not been tested by the course staff.
That said, since Python code does not need to be compiled (and cannot be easily compiled), Gradle is somewhat unnecessarily complex for use with Python. Instead, use [Poetry]({% link _pages/en/poetry.md %}) for Python projects.

## Introduction to Gradle Configuration (for Java)
These instructions are almost a direct copy from the [Software Engineering course pages](https://ohjelmistotuotanto-hy.github.io/gradle/).

We will create a Gradle project from scratch. Start by creating a new directory in your [project repository]({% link _pages/en/git.md %}) and navigate into it.

Check if the ```gradle``` command works on your system. Note that, for example, freshman laptops may have a very old version of Gradle installed. Running the command will show which version is in use.
```
mluukkai@melkki:~$ gradle  
Starting a Gradle Daemon (subsequent builds will be faster)  

> Task :help  

Welcome to Gradle 4.4.1.
```
If the command does not work **or the version is older than 6.7**, install the latest version of Gradle following the instructions [here](https://gradle.org/install/).
Start by running the command ```gradle```:
```
> Task :help

Welcome to Gradle 8.6.

Directory '/Users/jezberg/Documents/teaching/tiralabra/gradletest' does not contain a Gradle build.

To create a new build in this directory, run gradle init

For more detail on the 'init' task, see https://docs.gradle.org/8.6/userguide/build_init_plugin.html

For more detail on creating a Gradle build, see https://docs.gradle.org/8.6/userguide/tutorial_using_tasks.html

To see a list of command-line options, run gradle --help

For more detail on using Gradle, see https://docs.gradle.org/8.6/userguide/command_line_interface.html

For troubleshooting, visit https://help.gradle.org
...
```
The output indicates that no Gradle build exists in the current directory, meaning the Gradle project has not been initialized yet.
A Gradle project is defined using a file named _build.gradle_ in the root of the project directory.
You can create this file by running the init task (i.e., executing the command ```gradle init```).
Next, let's run the init command.
```
jezberg@LM2-500-27156 gradletest % gradle init 

Select type of project to generate:
  1: basic
  2: application
  3: library
  4: Gradle plugin
Enter selection (default: basic) [1..4] 
```
Select _basic_ (type of project), _Groovy_ (build script DSL), and provide a name for the project. Also, choose "no" when asked about new API features.
After running the operation, you'll notice that in addition to the _build.gradle_ file, other files, and directories have been created in the project directory:
<pre>
$ ls -la
drwxr-xr-x  9 jezberg  ATKK\hyad-all   288 Feb  6 17:06 .
drwxr-xr-x  8 jezberg  ATKK\hyad-all   256 Feb  6 16:55 ..
-rw-r--r--  1 jezberg  ATKK\hyad-all   214 Feb  6 17:06 .gitattributes
-rw-r--r--  1 jezberg  ATKK\hyad-all   103 Feb  6 17:06 .gitignore
-rw-r--r--  1 jezberg  ATKK\hyad-all   201 Feb  6 17:06 build.gradle
drwxr-xr-x  4 jezberg  ATKK\hyad-all   128 Feb  6 17:06 gradle
-rwxr-xr-x  1 jezberg  ATKK\hyad-all  8692 Feb  6 17:06 gradlew
-rw-r--r--  1 jezberg  ATKK\hyad-all  2918 Feb  6 17:06 gradlew.bat
-rw-r--r--  1 jezberg  ATKK\hyad-all   345 Feb  6 17:06 settings.gradle
</pre>
The directory _.gradle_ should be added to _.gitignore_. In Gradle projects, the _build_ directory should always be gitignored, as it contains all files generated by Gradle tasks. Fortunately, Gradle automatically creates an appropriate _.gitignore_ file for this setup.

Our goal is to add Java code and JUnit tests to the project. By default, Gradle does not recognize Java, but by enabling the _java-plugin_, it adds new tasks related to compiling Java code.

Start by running the command ```gradle```.
```
> Task :help

Welcome to Gradle 6.7.

To run a build, run gradle <task> ...

To see a list of available tasks, run gradle tasks

To see a list of command-line options, run gradle --help

To see more detail about a task, run gradle help --task <task>

For troubleshooting, visit https://help.gradle.org
...
```
The instructions guide us as follows:
"To see a list of available tasks, run gradle tasks."
So, let's try executing the command ```gradle tasks```.
```
> Task :tasks

------------------------------------------------------------
Tasks runnable from root project
------------------------------------------------------------

Build Setup tasks
-----------------
init - Initializes a new Gradle build.
wrapper - Generates Gradle wrapper files.

Help tasks
----------
buildEnvironment - Displays all buildscript dependencies declared in root project 'intro_gradle'.
components - Displays the components produced by root project 'intro_gradle'. [incubating]
dependencies - Displays all dependencies declared in root project 'intro_gradle'.
dependencyInsight - Displays the insight into a specific dependency in root project 'intro_gradle'.
dependentComponents - Displays the dependent components of components in root project 'intro_gradle'. [incubating]
help - Displays a help message.
model - Displays the configuration model of root project 'intro_gradle'. [incubating]
outgoingVariants - Displays the outgoing variants of root project 'intro_gradle'.
projects - Displays the sub-projects of root project 'intro_gradle'.
properties - Displays the properties of root project 'intro_gradle'.
tasks - Displays the tasks runnable from root project 'intro_gradle'.
```
The command lists the available _tasks_. Gradle's [documentation](https://docs.gradle.org/current/userguide/tutorial_using_tasks.html) describes tasks as follows:

> Each project is made up of one or more tasks. A task represents some atomic piece of work which a build performs. This might be compiling some classes, creating a JAR, generating Javadoc, or publishing some archives to a repository

Tasks are essentially "commands" that we can execute for Gradle projects.

Now, let's enable the _java-plugin_ by adding a line to the _build.gradle_ file:
<pre>
plugins {
    id 'java'
}
</pre>
When we now run the ```gradle tasks``` command, we will notice that there are new tasks in the list, which were added by the _java-plugin_:
<pre>
Build tasks
-----------
assemble - Assembles the outputs of this project.
build - Assembles and tests this project.
buildDependents - Assembles and tests this project and all projects that depend on it.
buildNeeded - Assembles and tests this project and all projects it depends on.
classes - Assembles main classes.
clean - Deletes the build directory.
jar - Assembles a jar archive containing the main classes.
testClasses - Assembles test classes.

Build Setup tasks
-----------------
init - Initializes a new Gradle build.
wrapper - Generates Gradle wrapper files.

Documentation tasks
-------------------
javadoc - Generates Javadoc API documentation for the main source code.

...

Verification tasks
------------------
check - Runs all checks.
test - Runs the unit tests.
</pre>



{% include typo_instructions_en.md %}
